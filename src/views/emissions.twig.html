{% extends "layout.default.twig.html" %}

{% block title %}Les émissions{% endblock %}

{% block latest %}
    <a href="{{ path('emission', {id:shows.0.id, type:shows.0.typeSlug}) }}">
        {{ shows.0.type }}
        {{ shows.0.number }}
        :
        {{ shows.0.authors }}
        -
        {{ shows.0.title }}
    </a>
{% endblock %}

{% block content %}
    <nav class="grid-100">
        <!-- <a href="mailto:contact@ouiedire.net">contact@ouiedire.net</a> <a href="{{ url('dons') }}">Dons</a> <a href="http://feeds.feedburner.com/ouiedire">rss</a> <a href="https://www.facebook.com/pages/Ou%C3%AFedire/35795699060">facebook</a> <a href="https://twitter.com/OuiedireShow">twitter</a> <a href="{{ url('flyers') }}">Flyers des programmations (Janvier 2015 à Juin 2016)</a> -->
    </nav>
	<h3>
		{% if app.request.get('type') %}
				<a href="{{ path('artists', { type: app.request.get('type') }) }}">{{ artists|length }} artistes</a>
				/ <a href="{{ path('emissions', { type: app.request.get('type') }) }}">{{ shows|length }} émissions</a>
				/ <a href="{{ path('djs', { type: app.request.get('type') }) }}">{{ djs|length }} djs</a>
		{% elseif app.request.get('authors') %}
				<a href="{{ path('artists', { authors: app.request.get('authors') }) }}">{{ artists|length }} artistes</a>
				/ <a href="{{ path('emissions', { authors: app.request.get('authors') }) }}">{{ shows|length }} émissions</a>
				/ <a href="{{ path('djs', { authors: app.request.get('authors') }) }}">{{ djs|length }} djs</a>
		{% else%}
				<a href="{{ path('artists') }}">{{ artists|length }} artistes</a>
				/ <a href="{{ path('emissions') }}">{{ shows|length }} émissions</a>
				/ <a href="{{ path('djs') }}">{{ djs|length }} djs</a>
		{% endif %}
	</h3>

    <div class="grid-50 mobile-grid-100">
        <ul>
            {% for show in shows %}
                {% if loop.index0 == (loop.length / 2) | number_format %}
                </ul>
            </div>
            <!-- grid-50 -->
            <div class="grid-50 mobile-grid-100">
                <ul>
                {% endif %}
                <li class="{{ show.typeSlug }}">
                    <span class="home_type">
                        <a href="{{ path('emissions', { type: show.type }) }}">{{ show.type }}</a>
                        {{ show.number }}
                    </span>

                    <span class="home_authors">
                        <a href="{{ path('emissions', { authors: show.authors }) }}">{{ show.authors }}</a>
                        -
                    </span>

                    <span class="home_title">
                        <a href="{{ path('emission', { id: show.id, type: show.typeSlug }) }}">{{ show.title }}</a>
                    </span>
                    <span class="home_date">
                        ({{ show.releasedAt|date('d/m/Y') }})</span>
                    <!-- <span>{{ show.releasedAt }}</span> -->
                </li>
            {% endfor %}
        </ul>
    </div>
    <!-- grid-50 -->
{% endblock %}
